<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:SmartVoiceAgent.Ui.ViewModels"
        xmlns:local="clr-namespace:SmartVoiceAgent.Ui.Views"
        x:Class="SmartVoiceAgent.Ui.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Background="Transparent"
        TransparencyLevelHint="Mica"
        ExtendClientAreaToDecorationsHint="True"
        Title="KAM NEURAL // CORE v3.5"
        Width="1200" Height="900">

    <Window.Styles>
        <Style Selector="Button.NavBtn">
            <Setter Property="Width" Value="60"/>
            <Setter Property="Height" Value="60"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0,10"/>
        </Style>

        <Style Selector="Button.NavBtn /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.2"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.NavBtn:pointerover /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="#10FFFFFF"/>
            <Setter Property="BorderBrush" Value="#20FFFFFF"/>
        </Style>

        <Style Selector="Button.ActiveNav /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="#1500F2FF"/>
            <Setter Property="BorderBrush" Value="#00F2FF"/>
        </Style>

        <Style Selector="Button.NavBtn Path">
            <Setter Property="Fill" Value="#666666"/>
            <Setter Property="Width" Value="24"/>
            <Setter Property="Stretch" Value="Uniform"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style Selector="Button.ActiveNav Path">
            <Setter Property="Fill" Value="#00F2FF"/>
        </Style>

    </Window.Styles>

    <Panel>
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial TintColor="#050505" TintOpacity="0.95" MaterialOpacity="0.85" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>

        <Grid ColumnDefinitions="80, *, 300">
            
            <Border Grid.Column="0" Background="#0A0A0C" BorderBrush="#1AFFFFFF" BorderThickness="0,0,1,0">
                <Grid RowDefinitions="Auto, *, Auto" Margin="0,50,0,20">
                    
                    <StackPanel Grid.Row="0" HorizontalAlignment="Stretch">
                        <Button Classes="NavBtn ActiveNav" Command="{Binding SetView}" CommandParameter="Coordinator">
                            <Path Data="M3,3 H10 V10 H3 Z M14,3 H21 V10 H14 Z M14,14 H21 V21 H14 Z M3,14 H10 V21 H3 Z"/>
                        </Button>
                        <Button Classes="NavBtn" Command="{Binding SetView}" CommandParameter="Network">
                            <Path Data="M12,15.5 A3.5,3.5 0 0,1 8.5,12 A3.5,3.5 0 0,1 12,8.5 A3.5,3.5 0 0,1 15.5,12 A3.5,3.5 0 0,1 12,15.5 M19.43,12.97 C19.47,12.65 19.5,12.33 19.5,12 C19.5,11.67 19.47,11.34 19.43,11.03 L21.54,9.37 C21.73,9.22 21.78,8.95 21.66,8.73 L19.66,5.27 C19.54,5.05 19.27,4.97 19.05,5.05 L16.56,6.05 C16.04,5.66 15.5,5.32 14.87,5.07 L14.5,2.42 C14.46,2.18 14.25,2 14,2 H10 C9.75,2 9.54,2.18 9.5,2.42 L9.13,5.07 C8.5,5.32 7.96,5.66 7.44,6.05 L4.95,5.05 C4.73,4.97 4.46,5.05 4.34,5.27 L2.34,8.73 C2.21,8.95 2.27,9.22 2.46,9.37 L4.57,11.03 C4.53,11.34 4.5,11.67 4.5,12 C4.5,12.33 4.53,12.65 4.57,12.97 L2.46,14.63 C2.27,14.78 2.21,15.05 2.34,15.27 L4.34,18.73 C4.46,18.95 4.73,19.03 4.95,18.95 L7.44,17.95 C7.96,18.34 8.5,18.68 9.13,18.93 L9.5,21.58 C9.54,21.82 9.75,22 10,22 H14 C14.25,22 14.46,21.82 14.5,21.58 L14.87,18.93 C15.5,18.68 16.04,18.34 16.56,17.95 L19.05,18.95 C19.27,19.03 19.54,18.95 19.66,18.73 L21.66,15.27 C21.78,15.05 21.73,14.78 21.54,14.63 L19.43,12.97 Z"/>
                        </Button>
                    </StackPanel>

                    <Button Grid.Row="2" Classes="NavBtn" Command="{Binding ToggleTheme}">
                        <TextBlock Text="🌙" FontSize="20" HorizontalAlignment="Center"/>
                    </Button>
                </Grid>
            </Border>

            <Grid Grid.Column="1" Margin="40">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Panel>
                        <StackPanel>
                            <TextBlock Text="COORDINATOR" FontSize="48" LetterSpacing="25" FontWeight="Thin" HorizontalAlignment="Center"/>
                            <TextBlock Text="KERNEL v3.5 // NEURAL LINK STABLE" Foreground="#00D4FF" Opacity="0.6" HorizontalAlignment="Center" Margin="0,10,0,40"/>
                        </StackPanel>

                        <Canvas Height="100" VerticalAlignment="Top" IsHitTestVisible="False">
                            <Rectangle Name="ScannerLine" Width="600" Height="1" Fill="#00D4FF">
                                <Rectangle.Effect>
                                    <BlurEffect Radius="8"/>
                                </Rectangle.Effect>
                                <Rectangle.Styles>
                                    <Style Selector="Rectangle">
                                        <Style.Animations>
                                            <Animation Duration="0:0:4" IterationCount="Infinite">
                                                <KeyFrame KeyTime="0:0:0">
                                                    <Setter Property="Canvas.Top" Value="0"/>
                                                    <Setter Property="Opacity" Value="0"/>
                                                </KeyFrame>
                                                <KeyFrame KeyTime="0:0:2">
                                                    <Setter Property="Opacity" Value="0.5"/>
                                                </KeyFrame>
                                                <KeyFrame KeyTime="0:0:4">
                                                    <Setter Property="Canvas.Top" Value="100"/>
                                                    <Setter Property="Opacity" Value="0"/>
                                                </KeyFrame>
                                            </Animation>
                                        </Style.Animations>
                                    </Style>
                                </Rectangle.Styles>
                            </Rectangle>
                        </Canvas>
                    </Panel>

                    <local:NeuralOrb Width="350" Height="350" HorizontalAlignment="Center"/>
                </StackPanel>
            </Grid>

            <Border Grid.Column="2" Background="#0A0A0C" BorderBrush="#1AFFFFFF" BorderThickness="1,0,0,0" Padding="20">
                <Grid RowDefinitions="Auto, *">
                    <TextBlock Grid.Row="0" Text="KERNEL_LOG" Foreground="#666666" FontSize="12" FontWeight="Bold" Margin="0,0,0,15"/>
                    <ScrollViewer Grid.Row="1">
                        <ItemsControl ItemsSource="{Binding LogEntries}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" Foreground="#00D4FF" FontSize="11" Margin="0,2" FontFamily="Consolas" Opacity="0.8"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                </Grid>
            </Border>
            
        </Grid>
    </Panel>
</Window>