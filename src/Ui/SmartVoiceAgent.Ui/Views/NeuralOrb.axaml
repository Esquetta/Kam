<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:SmartVoiceAgent.Ui.ViewModels"
             x:Class="SmartVoiceAgent.Ui.Views.NeuralOrb"
             x:Name="neuralOrbControl"
             Width="350" Height="350"
             Background="Transparent">
    
    <UserControl.Styles>
        <!-- Outer Glow Animation -->
        <Style Selector="Ellipse.OuterGlow">
            <Style.Animations>
                <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate" Easing="SineEaseInOut">
                    <KeyFrame KeyTime="0:0:0">
                        <Setter Property="Opacity" Value="0.2"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.0"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame KeyTime="0:0:2">
                        <Setter Property="Opacity" Value="0.5"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.3"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.3"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Middle Glow Animation -->
        <Style Selector="Ellipse.MiddleGlow">
            <Style.Animations>
                <Animation Duration="0:0:1.5" IterationCount="Infinite" PlaybackDirection="Alternate" Easing="SineEaseInOut">
                    <KeyFrame KeyTime="0:0:0">
                        <Setter Property="Opacity" Value="0.4"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.0"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame KeyTime="0:0:1.5">
                        <Setter Property="Opacity" Value="0.7"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.2"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.2"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Core Pulse Animation -->
        <Style Selector="Ellipse.CorePulse">
            <Style.Animations>
                <Animation Duration="0:0:1" IterationCount="Infinite" PlaybackDirection="Alternate" Easing="SineEaseInOut">
                    <KeyFrame KeyTime="0:0:0">
                        <Setter Property="Opacity" Value="0.9"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.0"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.0"/>
                    </KeyFrame>
                    <KeyFrame KeyTime="0:0:1">
                        <Setter Property="Opacity" Value="1.0"/>
                        <Setter Property="ScaleTransform.ScaleX" Value="1.05"/>
                        <Setter Property="ScaleTransform.ScaleY" Value="1.05"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Ring Rotation Animation -->
        <Style Selector="Ellipse.RotatingRing">
            <Style.Animations>
                <Animation Duration="0:0:8" IterationCount="Infinite">
                    <KeyFrame KeyTime="0:0:0">
                        <Setter Property="RotateTransform.Angle" Value="0"/>
                    </KeyFrame>
                    <KeyFrame KeyTime="0:0:8">
                        <Setter Property="RotateTransform.Angle" Value="360"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>

        <!-- Brain Icon Pulse -->
        <Style Selector="Path.BrainIcon">
            <Style.Animations>
                <Animation Duration="0:0:2" IterationCount="Infinite" PlaybackDirection="Alternate" Easing="SineEaseInOut">
                    <KeyFrame KeyTime="0:0:0">
                        <Setter Property="Opacity" Value="0.7"/>
                    </KeyFrame>
                    <KeyFrame KeyTime="0:0:2">
                        <Setter Property="Opacity" Value="1.0"/>
                    </KeyFrame>
                </Animation>
            </Style.Animations>
        </Style>
    </UserControl.Styles>

    <Grid Background="Transparent">
        <!-- Outer Glow Layer (Largest) -->
        <Ellipse Classes="OuterGlow"
                 Fill="{Binding #neuralOrbControl.OrbColor}"
                 Width="280" Height="280"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.RenderTransform>
                <ScaleTransform/>
            </Ellipse.RenderTransform>
            <Ellipse.Effect>
                <BlurEffect Radius="80"/>
            </Ellipse.Effect>
        </Ellipse>

        <!-- Middle Glow Layer -->
        <Ellipse Classes="MiddleGlow"
                 Fill="{Binding #neuralOrbControl.OrbColor}"
                 Width="200" Height="200"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.RenderTransform>
                <ScaleTransform/>
            </Ellipse.RenderTransform>
            <Ellipse.Effect>
                <BlurEffect Radius="50"/>
            </Ellipse.Effect>
        </Ellipse>

        <!-- Rotating Ring (Decorative) -->
        <Ellipse Classes="RotatingRing"
                 Stroke="{Binding #neuralOrbControl.OrbColor}"
                 StrokeThickness="2"
                 Width="180" Height="180"
                 Opacity="0.3"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.RenderTransform>
                <RotateTransform/>
            </Ellipse.RenderTransform>
            <Ellipse.StrokeDashArray>
               
            </Ellipse.StrokeDashArray>
        </Ellipse>

        <!-- Inner Ring (Static) -->
        <Ellipse Stroke="{Binding #neuralOrbControl.OrbColor}"
                 StrokeThickness="1"
                 Width="140" Height="140"
                 Opacity="0.4"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center"/>

        <!-- Core Orb -->
        <Ellipse Classes="CorePulse"
                 Fill="{Binding #neuralOrbControl.OrbColor}"
                 Width="120" Height="120"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.RenderTransform>
                <ScaleTransform/>
            </Ellipse.RenderTransform>
            <Ellipse.Effect>
                <BlurEffect Radius="5"/>
            </Ellipse.Effect>
        </Ellipse>

        <!-- Solid Core Center -->
        <Ellipse Fill="{Binding #neuralOrbControl.OrbColor}"
                 Width="100" Height="100"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.OpacityMask>
                <RadialGradientBrush>
                    <GradientStop Color="White" Offset="0"/>
                    <GradientStop Color="#CCFFFFFF" Offset="0.7"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </RadialGradientBrush>
            </Ellipse.OpacityMask>
        </Ellipse>

        <!-- Inner Highlight -->
        <Ellipse Fill="White"
                 Width="60" Height="60"
                 Opacity="0.3"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center"
                 Margin="0,0,30,30">
            <Ellipse.Effect>
                <BlurEffect Radius="15"/>
            </Ellipse.Effect>
        </Ellipse>

        <!-- Modern Brain Icon in Center (Network Intelligence Style) -->
        <Viewbox Width="55" Height="55" 
                 HorizontalAlignment="Center" 
                 VerticalAlignment="Center">
            <Canvas Width="24" Height="24">
                <!-- Left Hemisphere -->
                <Path Classes="BrainIcon"
                      Fill="White"
                      Data="M12,3 C10.5,3 9.2,3.5 8.2,4.3 C7.8,4 7.3,3.8 6.8,3.8 C5.8,3.8 5,4.6 5,5.6 C4,6.5 3.5,7.8 3.5,9.2 C3.5,10.5 4,11.7 4.8,12.6 C4.3,13.5 4,14.5 4,15.6 C4,17 4.5,18.3 5.4,19.3 C5.4,19.6 5.5,19.8 5.6,20 L8,20 L8,18 C7,17.5 6.3,16.6 6.3,15.6 C6.3,14.8 6.6,14.1 7.1,13.6 L9,15 L9,12 L7.5,10.8 C7.3,10.3 7.2,9.8 7.2,9.2 C7.2,8.2 7.6,7.3 8.2,6.7 L10,8 L10,5 C10.6,4.5 11.3,4.2 12,4.2 L12,3 Z"/>
                
                <!-- Right Hemisphere -->
                <Path Classes="BrainIcon"
                      Fill="White"
                      Data="M12,3 C13.5,3 14.8,3.5 15.8,4.3 C16.2,4 16.7,3.8 17.2,3.8 C18.2,3.8 19,4.6 19,5.6 C20,6.5 20.5,7.8 20.5,9.2 C20.5,10.5 20,11.7 19.2,12.6 C19.7,13.5 20,14.5 20,15.6 C20,17 19.5,18.3 18.6,19.3 C18.6,19.6 18.5,19.8 18.4,20 L16,20 L16,18 C17,17.5 17.7,16.6 17.7,15.6 C17.7,14.8 17.4,14.1 16.9,13.6 L15,15 L15,12 L16.5,10.8 C16.7,10.3 16.8,9.8 16.8,9.2 C16.8,8.2 16.4,7.3 15.8,6.7 L14,8 L14,5 C13.4,4.5 12.7,4.2 12,4.2 L12,3 Z"/>
                
                <!-- Center Neural Connections -->
               <!-- <Line X1="10" Y1="8" X2="14" Y2="8" Stroke="White" StrokeThickness="0.8" Opacity="0.7" Classes="BrainIcon"/>
                <Line X1="10" Y1="10" X2="14" Y2="10" Stroke="White" StrokeThickness="0.8" Opacity="0.7" Classes="BrainIcon"/>
                <Line X1="10" Y1="12" X2="14" Y2="12" Stroke="White" StrokeThickness="0.8" Opacity="0.7" Classes="BrainIcon"/>
                <Line X1="10" Y1="14" X2="14" Y2="14" Stroke="White" StrokeThickness="0.8" Opacity="0.6" Classes="BrainIcon"/>-->
            </Canvas>
        </Viewbox>
    </Grid>
</UserControl>